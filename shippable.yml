language: python
build_image: shippableimages/ubuntu1404_python
python:
  - "2.7"
  - "3.3"
  - "3.4"

install: "pip install -r requirements.txt"

cache: true

# We only want to build feature/* and release/* branches but shippable doesn't
# support wildcards so we exclude master and develop
branches:
  except:
    - master
    - develop

# Make folders for the reports
before_script:
  - mkdir -p shippable/testresults
  - mkdir -p shippable/codecoverage

script:
  - which python
  - nosetests --with-coverage --cover-inclusive --cover-package=mdweb --with-xunit --xunit-file=shippable/testresults/nosetests.xml
  - coverage xml -o shippable/codecoverage/coverage.xml

notifications:
  email:
   - crempp@gmail.com
